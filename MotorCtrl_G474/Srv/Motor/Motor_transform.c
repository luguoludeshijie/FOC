/*******************************************************************************
*
* 文件名称: Motor_transform.c
* 版 本 号: V1.0 
* 作    者: linbo.liu
* 生成日期: 2024年x月x日
* 功能描述: 
*
*******************************************************************************/
/*******************************************************************************
 *----------------------------------头文件--------------------------------------
 ******************************************************************************/
#include "Srv.h"

/*******************************************************************************
 *----------------------------------宏定义---------------------------------------
 ******************************************************************************/


/*******************************************************************************
 *--------------------------------数据类型定义-----------------------------------
 ******************************************************************************/


/*******************************************************************************
 *----------------------------------函数声明-------------------------------------
 ******************************************************************************/


/*******************************************************************************
 *-----------------------------------常量定义------------------------------------
 ******************************************************************************/


/*******************************************************************************
 *-----------------------——--------全局变量定义----------------------------------
 ******************************************************************************/


/*******************************************************************************
 *---------------------------—----—--函数实现------------------------------------
 ******************************************************************************/
/*******************************************************************************
* 函 数 名: CLARKE_Cale
* 功能描述: Alpha = Iu,Beta = (√3/3*Iu + 2*√3/3*Iv)
* 输入参数: void
* 输出参数: void
*******************************************************************************/
void  CLARKE_Cale(p_CLARKE  pV)  // 2/3系数 等幅值变换
{
	pV->Alpha = ((pV->Us*2.0f) - (pV->Vs + pV->Ws)) *(0.3333333333f);
	pV->Beta =  (pV->Vs + pV->Ws)*0.577350269f;
}

/*******************************************************************************
* 函 数 名: PARK_Cale
* 功能描述: Parking Id,Iq,
*		   Id = Ialpha*cos+Ibeta*sin
*		   Iq = Ibeta*cos-Ialpha*sin
* 输入参数: void
* 输出参数: void
*******************************************************************************/
void  PARK_Cale(p_PARK pV)
{
	pV->Ds =  pV->Alpha*pV->Cosine + pV->Beta*pV->Sine ;
    pV->Qs =  pV->Beta*pV->Cosine  - pV->Alpha*pV->Sine;
}

/*******************************************************************************
* 函 数 名: IPARK_Cale
* 功能描述: IParking Ia,Ib
*		   Ialpha = Id*cos-Iq*sin
*  		   Ibeta = Iq*cos+Id*sin
* 输入参数: void
* 输出参数: void
*******************************************************************************/
void  IPARK_Cale(p_IPARK pV)   
{
	pV->Alpha = pV->Ds*pV->Cosine  - pV->Qs*pV->Sine ;
	pV->Beta  = pV->Qs*pV->Cosine  + pV->Ds*pV->Sine ;
}

/*******************************************************************************
 *---------------------------—----—---结束--------------------------------------
 ******************************************************************************/

