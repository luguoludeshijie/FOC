/*******************************************************************************
*
* 文件名称: Motor_Pid.h
* 版 本 号: V1.0 
* 作    者: linbo.liu
* 生成日期: 2024年x月x日
* 功能描述: 
*
*******************************************************************************/
#ifndef _MOTOR_PID_H_
#define _MOTOR_PID_H_
/*******************************************************************************
 *-----------------------------------头文件-------------------------------------
 ******************************************************************************/
#include "Srv.h"


/*******************************************************************************
 *-----------------------------------宏定义-------------------------------------
 ******************************************************************************/
#define PI_Control_DEFAULTS {0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0} // 初始化参数

/*******************************************************************************
 *---------------------------------数据类型定义----------------------------------
 ******************************************************************************/
typedef struct
{
        float Ref;  // PI控制的给定参数
        float Fbk;  // PI控制的反馈参数
        float Out;  // PI控制的输出参数
        float OutF; // PI控制的滤波后输出参数
        float Kp;   // PI控制的比例参数
        float Ki;   // PI控制的积分参数
        float Umax; // PI控制的输出限制最大幅值参数
        float Umin; // PI控制的输出限制最小幅值参数
        float up;   // PI控制的比例项输出参数
        float ui;   // PI控制的积分项输出参数
        float v1;   // PI控制的历史输出项参数
        float i1;   // PI控制的历史积分项输出参数
} PI_Control, *p_PI_Control;


/*******************************************************************************
 *-----------------------------------常量定义------------------------------------
 ******************************************************************************/


/*******************************************************************************
 *-----------------------——--------全局变量定义----------------------------------
 ******************************************************************************/


/*******************************************************************************
 *-----------------------------------函数接口------------------------------------
 ******************************************************************************/
extern void PI_Controller(p_PI_Control pV); // PI控制算法函数
extern void PI_Pare_init(void);             // PI控制参数初始化


/*******************************************************************************
 *---------------------------—----—--变量接口------------------------------------
 ******************************************************************************/
extern PI_Control   g_Speed_PiPara;
extern PI_Control   g_Id_PiPara;
extern PI_Control   g_Iq_PiPara;

#endif 
/*******************************************************************************
 *---------------------------—----—---结束--------------------------------------
 ******************************************************************************/