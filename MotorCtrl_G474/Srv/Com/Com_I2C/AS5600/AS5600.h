/*******************************************************************************
*
* 文件名称: AS5600.h
* 版 本 号: V1.0 
* 作    者: linbo.liu
* 生成日期: 2024年x月x日
* 功能描述: 
*
*******************************************************************************/

#ifndef _AS5600_H_
#define _AS5600_H_


/*******************************************************************************
 *-----------------------------------头文件-------------------------------------
 ******************************************************************************/
#include "Srv.h"

/*******************************************************************************
 *-----------------------------------宏定义-------------------------------------
 ******************************************************************************/
#define _raw_ang_hi AS5600_ANGLE_H
#define _raw_ang_lo AS5600_ANGLE_L

// IO方向设置
#define SDA_IN() LL_GPIO_SetPinMode(SDA_GPIO_Port, SDA_Pin, LL_GPIO_MODE_INPUT)  // SDA切换为输入模式

#define SDA_OUT() LL_GPIO_SetPinMode(SDA_GPIO_Port, SDA_Pin, LL_GPIO_MODE_OUTPUT) // SDA切换为输出模式

// IO操作函数
#define IIC_SCL(n) HAL_GPIO_WritePin(SCL_GPIO_Port, SCL_Pin, n) // SCL输出
#define IIC_SDA(n) HAL_GPIO_WritePin(SDA_GPIO_Port, SDA_Pin, n) // SDA输出
#define READ_SDA() HAL_GPIO_ReadPin(SDA_GPIO_Port, SDA_Pin)     // SDA输入


/*******************************************************************************
 *---------------------------------数据类型定义----------------------------------
 ******************************************************************************/


/*******************************************************************************
 *-----------------------------------常量定义------------------------------------
 ******************************************************************************/


/*******************************************************************************
 *-----------------------——--------全局变量定义----------------------------------
 ******************************************************************************/


/*******************************************************************************
 *-----------------------------------函数接口------------------------------------
 ******************************************************************************/
void IIC_Init(void);
void IIC_Start(void);
void IIC_Stop(void);
void IIC_Send_Byte(uint8_t txd);
uint8_t IIC_Read_Byte(unsigned char ack);
uint8_t IIC_Wait_Ack(void);
void IIC_Ack(void);
void IIC_NAck(void);

uint8_t AS5600_ReadOneByte(uint16_t ReadAddr);
void AS5600_WriteOneByte(uint16_t WriteAddr, uint8_t WriteData);
uint16_t AS5600_ReadTwoByte(uint16_t ReadAddr_hi, uint16_t ReadAddr_lo);

/*******************************************************************************
 *---------------------------—----—--变量接口------------------------------------
 ******************************************************************************/

 #endif
/*******************************************************************************
 *---------------------------—----—---结束--------------------------------------
 ******************************************************************************/